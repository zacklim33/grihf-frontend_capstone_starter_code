{"ast":null,"code":"// Following code has been commented with appropriate comments for your reference.\nimport React,{useState,useEffect}from'react';// Function component for giving reviews\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function GiveReviews(_ref){let{serialNumber,onReviewSubmit,review}=_ref;//serialNumber = doctorID, from Review component\n//onReviewSubmit = {handleReviewSubmit} function from Review component\n//review prop =  an array of all individual doctor's review\n// State variables using useState hook\nconst[storedReviews,setStoredReviews]=useState([]);const[submitted,setSubmitted]=useState(false);const[showWarning,setShowWarning]=useState(false);//data object to store what user currently input in this form\nconst[formData,setFormData]=useState({name:'',review:'',rating:0,serial:serialNumber});// Update the form data based on user input\nconst handleRatingChange=rating=>{setFormData(prev=>({...prev,rating}));};const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};// Function to handle form submission\nconst handleSubmit=e=>{e.preventDefault();// Check if all required fields are filled \nif(formData.name&&formData.review&&formData.rating>0){setStoredReviews(prev=>[...prev,formData]);localStorage.setItem(`reviewFormData`,JSON.stringify(formData));//pass review data to parent component\nonReviewSubmit(serialNumber,formData);/*setSubmitted(true); //something that I had missed out? */setShowWarning(false);}else{//not all input fields are filled up\nsetShowWarning(true);}//reset form data\nsetFormData({name:'',review:'',rating:0,serial:0});};const renderStar=rating=>{const starClasses=`star ${formData.rating>=rating?'filled':''} ${formData.rating===rating?'clicked':''}`;return/*#__PURE__*/_jsx(\"span\",{className:starClasses,onClick:()=>handleRatingChange(rating),children:\"\\u2B50\\uFE0F\"},rating);};//modal popup to notify user of his input\nif(submitted){return/*#__PURE__*/_jsxs(\"div\",{className:\"review-box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Review has been Recorded!\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",formData.name,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsx(\"strong\",{children:\"Review:\"}),\" \",formData.review,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsx(\"strong\",{children:\"Rating:\"}),\" \",Array(formData.rating).fill('⭐️').join(''),\" \"]}),/*#__PURE__*/_jsx(\"br\",{})]});};//rendered as a modal window for user to enter their feedback\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"feedback-modal\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Give Your Feedback\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),showWarning&&/*#__PURE__*/_jsx(\"p\",{className:\"warning\",children:\"Please fill out all fields.\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:formData.name,onChange:handleChange})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"review\",children:\"Review:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"review\",name:\"review\",value:formData.review,onChange:handleChange,children:\" \"})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{children:[\" \",/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsxs(\"label\",{htmlfor:\"rating\",children:[\"Rating:\",/*#__PURE__*/_jsxs(\"span\",{children:[\" \",[1,2,3,4,5].map(rating=>renderStar(rating)),\" \\xA0\"]})]}),\" \"]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{style:{justifyContent:\"flex-end\"},type:\"submit\",children:\"Submit\"})})]}),\" \"]})}),\" \",/*#__PURE__*/_jsx(\"br\",{})]})});}export default GiveReviews;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","GiveReviews","_ref","serialNumber","onReviewSubmit","review","storedReviews","setStoredReviews","submitted","setSubmitted","showWarning","setShowWarning","formData","setFormData","name","rating","serial","handleRatingChange","prev","handleChange","e","target","value","handleSubmit","preventDefault","localStorage","setItem","JSON","stringify","renderStar","starClasses","className","onClick","children","Array","fill","join","onSubmit","htmlFor","type","id","onChange","htmlfor","map","style","justifyContent"],"sources":["C:/Users/lim_l/Documents/progamming/032-grihf-frontend_capstone_starter_code/src/Components/reviewform/GiveReviews.js"],"sourcesContent":["// Following code has been commented with appropriate comments for your reference.\r\nimport React, { useState, useEffect } from 'react';\r\n\r\n// Function component for giving reviews\r\nfunction GiveReviews({serialNumber, onReviewSubmit, review}) {\r\n\r\n  //serialNumber = doctorID, from Review component\r\n  //onReviewSubmit = {handleReviewSubmit} function from Review component\r\n  //review prop =  an array of all individual doctor's review\r\n\r\n  // State variables using useState hook\r\n  const [storedReviews, setStoredReviews] = useState([]);\r\n  const [submitted, setSubmitted] = useState(false);\r\n  const [showWarning, setShowWarning] = useState(false);\r\n\r\n  //data object to store what user currently input in this form\r\n  const [formData, setFormData] = useState({ name: '', review: '', rating: 0, serial: serialNumber }); \r\n\r\n// Update the form data based on user input\r\n  const handleRatingChange = (rating) => {\r\n    setFormData(prev => ({ ...prev, rating }));\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n\r\n// Function to handle form submission\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Check if all required fields are filled \r\n    if (formData.name && formData.review && formData.rating > 0) {\r\n\r\n      setStoredReviews((prev) => [...prev, formData]);\r\n      localStorage.setItem(`reviewFormData`, JSON.stringify(formData));\r\n      \r\n      //pass review data to parent component\r\n      onReviewSubmit(serialNumber, formData);\r\n      /*setSubmitted(true); //something that I had missed out? */\r\n      setShowWarning(false);\r\n\r\n    } else {      \r\n      //not all input fields are filled up\r\n      setShowWarning(true);\r\n\r\n    }\r\n\r\n    //reset form data\r\n    setFormData({ name: '',review: '', rating: 0, serial: 0 });\r\n\r\n  };\r\n\r\n\r\n  const renderStar = (rating) => {\r\n    const starClasses = `star ${formData.rating >= rating ? 'filled' : ''} ${formData.rating === rating ? 'clicked' : ''}`;  \r\n    return (  <span key={rating} className={starClasses} \r\n              onClick={() => handleRatingChange(rating)} >\r\n                ⭐️\r\n              </span>\r\n      );\r\n  };\r\n\r\n//modal popup to notify user of his input\r\n  if (submitted) {\r\n    return (\r\n        <div className=\"review-box\">\r\n            <h2>Your Review has been Recorded!</h2>\r\n            <p> <strong>Name:</strong> {formData.name} </p>\r\n            <p> <strong>Review:</strong> {formData.review} </p>\r\n            <p> <strong>Rating:</strong> {Array(formData.rating).fill('⭐️').join('')} </p>\r\n            <br/>\r\n        </div>\r\n     );\r\n  };\r\n\r\n//rendered as a modal window for user to enter their feedback\r\n  return (\r\n\r\n      <div className=\"feedback-modal\">\r\n        <form onSubmit={handleSubmit}>\r\n          <h1>Give Your Feedback</h1> <br/>\r\n          {/* Display warning message if not all fields are filled */}\r\n          {showWarning && <p className=\"warning\">Please fill out all fields.</p>}\r\n          <div>\r\n            <label htmlFor=\"name\">Name:</label>\r\n            <input type=\"text\" id=\"name\" name=\"name\" value={formData.name} onChange={handleChange} />\r\n          </div> <br/>\r\n          <div>\r\n            <label htmlFor=\"review\">Review:</label>\r\n            <textarea id=\"review\" name=\"review\" value={formData.review} onChange={handleChange}> </textarea>\r\n          </div> <br/>\r\n\r\n          {/* rating & submit button to be aligned together */}\r\n          <div>\r\n            <table> <tr> \r\n              <td> <label htmlfor=\"rating\">Rating: \r\n                 <span> {[1,2,3,4,5].map((rating) => renderStar(rating))} &nbsp;</span>             \r\n              </label> </td>\r\n              <td> \r\n                <button style={{justifyContent:\"flex-end\"}}type=\"submit\">Submit</button>\r\n              </td>\r\n            </tr> </table>\r\n          </div> <br/>\r\n\r\n        </form>\r\n      </div>\r\n\r\n  );\r\n}\r\nexport default GiveReviews;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
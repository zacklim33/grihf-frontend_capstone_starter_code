{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';/* import { , useDispatch } from 'react-redux'; */import'./ReportsLayout.css';//data obtained from future API \nimport{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const AllReportData=[{id:1,doctorName:'Dr. Zela Lee',doctorSpeciality:'General Physician',charges:'77.00',downloadUrl:'report1.pdf',reportUrl:'/reports/report1.pdf',patientEmail:'zack@abc.com'},{id:2,doctorName:'Dr. Williams Huang',doctorSpeciality:'Dentist',charges:'122.10',downloadUrl:'report2.pdf',reportUrl:'/reports/report2.pdf',patientEmail:'zack@abc.com'},{id:1,doctorName:'Dr. Zela Lee',doctorSpeciality:'General Physician',charges:'77.00',downloadUrl:'report1.pdf',reportUrl:'/reports/report1.pdf',patientEmail:'testing@abc.com'}];const Reports=()=>{const[user,setUser]=useState(\"\");const[email,setEmail]=useState(\"\");const navigate=useNavigate();// Get stored data from sessionStorage, if user has login successfully\nuseEffect(()=>{const storedName=sessionStorage.getItem(\"name\");const storedEmail=sessionStorage.getItem(\"email\");//if not successfully login, navigate to /login endpoint\nif(storedName){setUser(storedName);setEmail(storedEmail);}else{navigate(\"/login\");}},[]);//filter report data based on user email\nconst reportData=email?AllReportData.filter(report=>report.patientEmail===email):[];return/*#__PURE__*/_jsxs(\"div\",{className:\"reports-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Reports for \",user,\" \"]}),/*#__PURE__*/_jsxs(\"table\",{className:\"report-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Serial Number \"}),/*#__PURE__*/_jsx(\"th\",{children:\"Doctor Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Doctor Speciality\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Charges\"}),/*#__PURE__*/_jsx(\"th\",{children:\"View Report\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Download Report\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:reportData.map((report,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:report.id}),/*#__PURE__*/_jsx(\"td\",{children:report.doctorName}),/*#__PURE__*/_jsx(\"td\",{children:report.doctorSpeciality}),/*#__PURE__*/_jsx(\"td\",{children:report.charges}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:report.reportUrl,className:\"viewReports-btn\",rel:\"noreferrer\",children:\"View\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:report.downloadUrl,download:true,className:\"viewReports-btn\",rel:\"noreferrer\",children:\"Download\"})})]},index))})]})]});};export default Reports;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsxs","_jsxs","jsx","_jsx","AllReportData","id","doctorName","doctorSpeciality","charges","downloadUrl","reportUrl","patientEmail","Reports","user","setUser","email","setEmail","navigate","storedName","sessionStorage","getItem","storedEmail","reportData","filter","report","className","children","map","index","target","href","rel","download"],"sources":["C:/Users/lim_l/Documents/progamming/032-grihf-frontend_capstone_starter_code/src/Components/ReportsLayout/ReportsLayout.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n/* import { , useDispatch } from 'react-redux'; */\r\nimport './ReportsLayout.css';\r\n\r\n\r\n //data obtained from future API \r\n const AllReportData = [\r\n    {   id: 1,\r\n        doctorName: 'Dr. Zela Lee',\r\n        doctorSpeciality: 'General Physician',\r\n        charges: '77.00',\r\n        downloadUrl: 'report1.pdf',\r\n        reportUrl: '/reports/report1.pdf',\r\n        patientEmail: 'zack@abc.com',\r\n    },\r\n    {   id: 2,\r\n        doctorName: 'Dr. Williams Huang',\r\n        doctorSpeciality: 'Dentist',\r\n        charges: '122.10',\r\n        downloadUrl: 'report2.pdf',\r\n        reportUrl: '/reports/report2.pdf',\r\n        patientEmail: 'zack@abc.com',\r\n    },\r\n    {   id: 1,\r\n        doctorName: 'Dr. Zela Lee',\r\n        doctorSpeciality: 'General Physician',\r\n        charges: '77.00',\r\n        downloadUrl: 'report1.pdf',\r\n        reportUrl: '/reports/report1.pdf',\r\n        patientEmail: 'testing@abc.com',\r\n    },\r\n ];\r\n\r\nconst Reports = () => {\r\n \r\n    const [user,setUser] = useState(\"\");\r\n    const [email,setEmail] = useState(\"\");\r\n    const navigate = useNavigate();\r\n\r\n\r\n// Get stored data from sessionStorage, if user has login successfully\r\n useEffect( ()=> {\r\n    \r\n    const storedName = sessionStorage.getItem(\"name\");\r\n    const storedEmail = sessionStorage.getItem(\"email\");\r\n\r\n    //if not successfully login, navigate to /login endpoint\r\n    if (storedName) {\r\n         setUser(storedName) ;\r\n         setEmail(storedEmail);\r\n    } else {\r\n         navigate(\"/login\");\r\n    }\r\n }, [] );\r\n\r\n //filter report data based on user email\r\nconst reportData = email ? AllReportData.filter( (report) => report.patientEmail === email) : [];\r\n\r\n return (\r\n        <div className=\"reports-container\">\r\n        <h1>Reports for {user} </h1>\r\n        <table className=\"report-table\">\r\n            <thead>\r\n            <tr>\r\n                <th>Serial Number </th>\r\n                <th>Doctor Name</th>\r\n                <th>Doctor Speciality</th>\r\n                <th>Charges</th>\r\n                <th>View Report</th>\r\n                <th>Download Report</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            {reportData.map((report, index) => (\r\n                <tr key={index}>\r\n                <td>{report.id}</td>\r\n                <td>{report.doctorName}</td>\r\n                <td>{report.doctorSpeciality}</td>\r\n                <td>{report.charges}</td>\r\n                <td>\r\n                <a target='_blank' href={report.reportUrl} className=\"viewReports-btn\" rel=\"noreferrer\">\r\n                        View\r\n                    </a>\r\n                </td>\r\n                <td>\r\n                <a target='_blank' href={report.downloadUrl} download className=\"viewReports-btn\" rel=\"noreferrer\">\r\n                         Download\r\n                    </a>\r\n                </td>\r\n                </tr>\r\n            ))}\r\n            </tbody>\r\n        </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Reports;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}